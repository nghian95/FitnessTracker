<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<link rel="stylesheet" href="../static/css/style.css" th:href="@{/css/style.css}">
<!-- <script th:src="@{/script/javascript.js}" defer> -->
<script th:inline="javascript" defer>
	function confirmDelete(id) {
		if (confirm('Do you want to delete this?') == true) {
			const HTTP = new XMLHttpRequest();
			const url='/deleteActivity/' + id;
			HTTP.open('DELETE', url, true);
			HTTP.onload = function () {
				while (HTTP.readyState != 4) {
					
				}
				window.location.replace('/activity');
			};
			HTTP.send();
		}	
	}
</script> 
<head>
<meta charset="ISO-8859-1">
<title>View Activities</title>
</head>
<body>
<h1>List of Activities</h1>
<table style="border: 1px solid black">

	<tr>
		<th>Activity ID</th>
		<th>Activity List</th>
		<th>Sets</th>
		<th>Comment</th>
	</tr>
	<tr th:each="eachActivity: ${listOfActivities}">
		<td th:text="${eachActivity.activityID}"></td>
		<td th:if="${eachActivity.activityList} != null" th:text="${eachActivity.activityList.activityName}"></td>
		<td th:unless="${eachActivity.activityList} != null">N/A</td>
		<td th:text="${eachActivity.sets.size()}"></td>
		<td th:text="${eachActivity.comment}"></td>
		<td><a th:href="@{/updateActivity(activityID=${eachActivity.activityID})}">Update</a></td>
<!-- 		<td><a th:href="@{/deleteActivity(activityID=${eachActivity.activityID})}">Delete</a></td> -->
		<td><input type="button" th:onclick="confirmDelete([[${eachActivity.activityID}]])" value="Delete"></td>
	</tr>
</table>
</body>
</html>